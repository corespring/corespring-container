extends layout

//After the angular module has been created.
block after-main-script

  script.
    angular.module('corespring-#{appName}').constant("STATIC_PATHS", !{staticPaths} ); 
    
block content
  style

  .root(ng-controller="DevEditorRoot")
    .top-row
      span Dev Editor
      .pull-right
        button.btn.btn-sm.btn-default(ng-click="save()") Save
    .bottom-row
      .xhtml-pane(ui-ace,
          ng-model="xhtml",
          ui-ace="{mode: 'html', useWrapMode : true, onLoad: aceLoaded, onChange: aceChanged }")
      .custom-js-pane(ui-ace,
          ng-model="customScoringJs",
          ui-ace="{mode: 'javascript', useWrapMode : true }")
      .json-pane(ui-ace
          ng-model="json",
          ui-ace="{mode: 'json', useWrapMode : true, onLoad: aceLoaded, onChange: aceJsonChanged }")
      .preview(ng-controller="ClientSidePreview")
        .item-preview-wrapper
          .player-label
            img(ng-src='{{playerLabelImg}}')
          .player-container
            optimized-preview-player(
              data-jade-template='dev-editor',
              ng-model="xhtml",
              player-components="components",
              player-outcomes="outcome")
            summary-feedback(ng-model="item.summaryFeedback", session-complete="session.isComplete")
          preview-player-control-panel(
            data-mode='playerMode', 
            data-settings='playerSettings', 
            data-score="score")
